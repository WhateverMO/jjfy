from weight_utils import calculate_weights, transpose_by_section, split_questionnaire_counts_random, delete_elements
'''-----------------第一部分，拆分问卷------------------------'''
questionnaire_counts = [

    [3, 1, 4],   # 第1题
    [2, 4, 2],    # 第2题
    [1, 4, 3],    # 第3题
    [8, 0, 0],    # 第4题
    [3, 1, 4],   # 第1题
    [2, 4, 2],    # 第2题
    [1, 4, 3],    # 第3题
    [8, 0, 0],    # 第4题
    [1,2,3,4],
    [1,2,3,4],
    [3, 1, 4],   # 第1题
    [2, 4, 2],    # 第2题
    [1, 4, 3],    # 第3题
    [8, 0, 0],    # 第4题
    [3, 1, 4],   # 第1题
    [2, 4, 2],    # 第2题
    [1, 4, 3],    # 第3题
    [8, 0, 0],    # 第4题
    [3, 1, 4],   # 第1题
    [2, 4, 2],    # 第2题
    [1, 4, 3],    # 第3题
    [8, 0, 0],    # 第4题
    [3, 1, 4],   # 第1题
    [2, 4, 2],    # 第2题
    [1, 4, 3],    # 第3题
    [8, 0, 0],    # 第4题
    [3, 1, 4],   # 第1题
    [2, 4, 2],    # 第2题
    [1, 4, 3],    # 第3题
    [8, 0, 0],    # 第4题
    [3, 1, 4],   # 第1题
    [2, 4, 2],    # 第2题
    [1, 4, 3],    # 第3题
    [8, 0, 0],    # 第4题
    [3, 1, 4],   # 第1题
    [2, 4, 2],    # 第2题
    [1, 4, 3],    # 第3题
    [8, 0, 0],    # 第4题
    [3, 1, 4],   # 第1题
    [2, 4, 2],    # 第2题
    [1, 4, 3],    # 第3题
    [8, 0, 0],    # 第4题
    [3, 1, 4],   # 第1题
    [2, 4, 2],    # 第2题
    [1, 4, 3],    # 第3题
    [8, 0, 0],    # 第4题
    [3, 1, 4],   # 第1题
    [2, 4, 2],    # 第2题
    [1, 4, 3],    # 第3题
    [8, 0, 0],    # 第4题
    [3, 1, 4],   # 第1题
    [2, 4, 2],    # 第2题
    [1, 4, 3],    # 第3题
    [8, 0, 0],    # 第4题
    [3, 1, 4],   # 第1题
    [2, 4, 2],    # 第2题
    [1, 4, 3],    # 第3题
    [8, 0, 0],    # 第4题
    [3, 1, 4],   # 第1题
    [2, 4, 2],    # 第2题
    [1, 4, 3],    # 第3题
    [8, 0, 0],    # 第4题
    [3, 1, 4],   # 第1题
    [2, 4, 2],    # 第2题
    [1, 4, 3],    # 第3题
    [8, 0, 0],    # 第4题
    [3, 1, 4],   # 第1题
    [2, 4, 2],    # 第2题
    [1, 4, 3],    # 第3题
    [8, 0, 0],    # 第4题
    [3, 1, 4],   # 第1题
    [2, 4, 2],    # 第2题
    [1, 4, 3],    # 第3题
    [8, 0, 0],    # 第4题
    [3, 1, 4],   # 第1题
    [2, 4, 2],    # 第2题
    [1, 4, 3],    # 第3题
    [8, 0, 0],    # 第4题
    [3, 1, 4],   # 第1题
    [2, 4, 2],    # 第2题
    [1, 4, 3],    # 第3题
    [8, 0, 0],    # 第4题
    [3, 1, 4],   # 第1题
    [2, 4, 2],    # 第2题
    [1, 4, 3],    # 第3题
    [8, 0, 0],    # 第4题
    [3, 1, 4],   # 第1题
    [2, 4, 2],    # 第2题
    [1, 4, 3],    # 第3题
    [8, 0, 0],    # 第4题
    [3, 1, 4],   # 第1题
    [2, 4, 2],    # 第2题
    [1, 4, 3],    # 第3题
    [8, 0, 0],    # 第4题
    [3, 1, 4],   # 第1题
    [2, 4, 2],    # 第2题
    [2, 4, 2],    # 第2题
    [1, 4, 3],    # 第3题
    [8, 0, 0],    # 第4题
    [3, 1, 4],   # 第1题
    [2, 4, 2],    # 第2题
    [2, 4, 2],    # 第2题
    [1, 4, 3],    # 第3题
    [8, 0, 0],    # 第4题
    [3, 1, 4],   # 第1题
    [2, 4, 2],    # 第2题
    [2, 4, 2],    # 第2题        
]
print(len(questionnaire_counts))

questionnaire_counts = delete_elements(questionnaire_counts)
split_qs = split_questionnaire_counts_random(questionnaire_counts, seed=42)
print(split_qs)
# print(f"拆分后问卷总数: {len(split_qs)}")
# print("前3份问卷示例:")
# for i in range(len(split_qs)):
#     print(split_qs[i])








'''-----------------------第二部分，计算权重-------------------------'''
# 只需要输入问卷数据，上面的split_qs相当于下面这个questionnaires
questionnaires = [
    [[1, 0, 0], [0, 1, 0], [0, 0, 1],
     [1, 0, 0], [0, 0, 0], [0, 1, 0],
     [0, 1, 0], [1, 0, 0], [0, 0, 1]],

    [[0, 1, 0], [1, 0, 0], [0, 0, 0],
     [0, 1, 0], [1, 0, 0], [0, 0, 1],
     [1, 0, 0], [0, 1, 0], [0, 0, 1]]
]

# 计算每份问卷板块权重
orig_weights = calculate_weights(split_qs)

# 按板块汇总各问卷
transposed_weights = transpose_by_section(orig_weights)

# 打印结果
print("每份问卷板块权重（原顺序）：")
print(orig_weights)

print("\n按板块汇总各问卷：")
print(transposed_weights)
