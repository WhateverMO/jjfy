**数据成熟度评估**项目是一个综合性评估系统，旨在衡量和分析各组织层级的数据管理能力。这个基于Django的Web应用程序结合了先进的统计方法和多准则决策分析，通过结构化问卷和复杂的权重计算算法提供详细的成熟度评估。

## 系统架构

项目采用模块化架构，在评估逻辑、Web服务和数据库工具之间实现明确的关注点分离：

![[Pasted image 20251104155437.png]]

## 核心组件

### 评估流水线

系统的核心位于`eval/eval.py`模块，它协调一个六步评估流程\[eval.py#L37-L172\]：

1.  **问卷分割**：随机划分问卷响应以确保统计可靠性
2.  **权重计算**：根据问卷1的响应计算章节级权重
3.  **权重聚合**：应用BWM或熵权法进行最终权重确定
4.  **得分处理**：从问卷2中提取三级指标得分
5.  **多级评分**：计算所有指标层级的分层得分
6.  **结果结构化**：将输出格式化为全面的JSON字典

### 权重计算方法

系统实现了两种复杂的权重计算方法：

| 方法                          | 描述                 | 使用场景            | 实现                                                                        |
| --------------------------- | ------------------ | --------------- | ------------------------------------------------------------------------- |
| **BWM (Best-Worst Method)** | 基于最佳和最差标准的成对比较权重计算 | 具有明确偏好层次的专家驱动评估 | [weight\_calc\_method.py#L7-L15](/back/eval/weight_calc_method.py#L7-L15) |
| **熵权法**                     | 基于信息理论的数据不确定性计算    | 来自大型数据集的客观评估    | 通过`method="entropy"`参数可用                                                  |

### Web API层

[api/views.py](/back/api/views.py#L1-L221)中的Django REST API为评估和数据库可视化提供端点：

-   **评估端点**：`/eval` - 处理问卷数据并返回成熟度得分
-   **数据库端点**：`/get_table_names`、`/get_table`、`/er` - 生成ER图和数据库元数据
-   **可视化**：数据库模式可视化的实时SVG生成

## 技术栈

| 组件 | 技术 | 版本 | 用途 |
| --- | --- | --- | --- |
| **Web框架** | Django | \>=5.2.4 | 后端API和请求处理 |
| **科学计算** | NumPy, SciPy | \>=2.2.6, >=1.15.3 | 数值计算和优化 |
| **数据库集成** | pyodbc | \>=5.2.0 | SQL Server连接 |
| **可视化** | Graphviz | \>=0.21 | ER图生成 |
| **部署** | Gunicorn, Uvicorn | \>=23.0.0, >=0.37.0 | 生产服务器基础设施 |

## 项目结构

```
data-maturity-assessment/
├── README.md                          
└── back/                              # Django后端应用程序
    ├── api/                           # REST API端点
    │   ├── views.py                   # 请求处理器和业务逻辑
    │   ├── urls.py                    # API路由配置
    │   └── models.py                  # Django数据模型
    ├── eval/                          # 核心评估引擎
    │   ├── eval.py                    # 主评估协调
    │   ├── weight_calc_method.py      # BWM和熵权算法
    │   ├── question_2.py              # 问卷2处理
    │   └── model_score_cal_main.py    # 得分计算逻辑
    ├── sqlER/                         # 数据库可视化工具
    │   └── ERDiagram/                 # ER图生成组件
    └── mysite/                        # Django项目配置
        ├── settings.py                # 应用程序设置
        └── urls.py                    # 主URL路由
```

## 主要功能

### 多级评估系统

系统支持具有三个层级的分层指标结构：

-   **级别1**：主要能力域（例如"A"、"B"、"C"）
-   **级别2**：每个域内的子能力（例如"A1"、"A2"、"A3"）
-   **级别3**：具体的可测量指标（例如"A11"、"A12"）

### 灵活的问卷处理

支持两种不同的问卷类型：

-   **问卷1**：通过专家比较进行权重确定
-   **问卷2**：针对特定指标的性能评分

### 实时数据库可视化

集成的ER图生成，具有可自定义的渲染选项：

-   方向控制（水平/垂直布局）
-   选择性表格渲染
-   外键关系推理
-   简化视图的字段省略

## 快速开始

要开始探索系统，请遵循推荐的阅读顺序：

1.  **[2快速开始](2快速开始.md)** \- 设置你的开发环境并运行你的第一次评估
2.  **[3项目结构](3项目结构.md)** \- 深入了解代码库组织
3.  **[4环境设置](4环境配置.md)** \- 配置依赖项和数据库连接
4.  **[5数据输入格式](5数据输入格式.md)** \- 了解问卷数据要求

有关实现细节，请继续阅读从[评估流水线架构](深入探讨/核心评估引擎/评估流水线架构) 开始的深入探讨部分。